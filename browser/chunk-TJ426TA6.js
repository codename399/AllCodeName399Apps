import{a as U}from"./chunk-MRSAWQKR.js";import{a as v}from"./chunk-WDOU4FCN.js";import{a as J,c as b}from"./chunk-6EOEJYSQ.js";import"./chunk-BYXBJQAS.js";import{a as N}from"./chunk-WCHE2QXK.js";import{a as z,b as H}from"./chunk-REQF3J2D.js";import{a as M}from"./chunk-OQLYQHRI.js";import"./chunk-RGF7OKZJ.js";import{A as p,Ba as D,C as f,Ea as R,Fa as O,G as g,H as n,I as i,J as d,Ja as Q,Ka as B,P as j,Q as C,R as l,S as w,T as E,U as y,W as a,X as u,Y as _,_ as F,fa as T,lb as q,m as c,o as x,p as h,qa as I,t as S,u as r,w as P,wa as V,xa as k,ya as A,za as G}from"./chunk-GCSD6NER.js";function W(o,t){if(o&1&&(n(0,"small",12),a(1),i()),o&2){let e=l(2);r(),u(e.getErrorMessage(e.form,"name"))}}function X(o,t){if(o&1&&(n(0,"small",12),a(1),i()),o&2){let e=l(2);r(),u(e.getErrorMessage(e.form,"description"))}}function Y(o,t){if(o&1&&(n(0,"small",12),a(1),i()),o&2){let e=l(2);r(),u(e.getErrorMessage(e.form,"route"))}}function Z(o,t){if(o&1&&(n(0,"small",12),a(1),i()),o&2){let e=l(2);r(),u(e.getErrorMessage(e.form,"navigationText"))}}function $(o,t){if(o&1){let e=j();n(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),a(4),i(),n(5,"form",4),C("ngSubmit",function(){x(e);let m=l();return h(m.onSubmit())}),n(6,"div",5),d(7,"img",6)(8,"label",7),n(9,"input",8),C("change",function(m){x(e);let L=l();return h(L.onFileSelected(m))}),i()(),n(10,"div",9)(11,"label",10),a(12,"Name:"),i(),d(13,"input",11),p(14,W,2,1,"small",12),i(),n(15,"div",9)(16,"label",13),a(17,"Description:"),i(),n(18,"textarea",14),a(19,"        "),i(),p(20,X,2,1,"small",12),i(),n(21,"div",9)(22,"label",10),a(23,"Route:"),i(),d(24,"input",15),p(25,Y,2,1,"small",12),i(),n(26,"div",9)(27,"label",16),a(28,"Navigation Text:"),i(),d(29,"input",17),p(30,Z,2,1,"small",12),i(),n(31,"div",9)(32,"label",18),a(33,"Is Admin:"),i(),d(34,"mat-checkbox",19),i(),n(35,"div",20)(36,"button",21),a(37),i(),n(38,"button",22),C("click",function(){x(e);let m=l();return h(m.showForm=!1)}),a(39," Back "),i()()()()()()}if(o&2){let e=l();r(4),_(" ",e.item?"Update":"Add"," "),r(),g("formGroup",e.form),r(2),g("src",e.url,S),r(7),f(e.isInvalid(e.form,"name")?14:-1),r(6),f(e.isInvalid(e.form,"description")?20:-1),r(5),f(e.isInvalid(e.form,"route")?25:-1),r(5),f(e.isInvalid(e.form,"navigationText")?30:-1),r(6),g("disabled",e.form.invalid),r(),_(" ",e.item?"Update":"Add"," ")}}function ee(o,t){o&1&&d(0,"app-grid")}var K=class o{#i=c(I);#o=c(Q);#n=c(M);#e=c(J);#t=c(v);#r=c(N);form;gridComponent;get getErrorMessage(){return H}get isInvalid(){return z}get item(){return this.#e.item}get showForm(){return this.#e.showForm}get url(){return this.#t.url}set url(t){this.#t.url=t}set item(t){this.#e.item=t}set showForm(t){this.#e.showForm=t}constructor(){this.#e.service=U,this.#e.pagedResponse=this.#i.snapshot.data.pagedResponse,this.#e.displayedColumns=["select","Name","Description"],this.form=this.#o.group({name:["",[k.required]],description:[""],imageUrl:[this.url],route:[""],navigationText:[""],isAdmin:[!1]}),T(()=>{this.showForm&&(this.item&&(this.url=this.item?.imageUrl??this.#r.profilePictureUrl),this.form.patchValue(this.item??{}))})}onSubmit(){this.form.patchValue({imageUrl:this.url});let t=this.form.value;this.form.valid?this.item?(t.id=this.item.id,this.item=t,this.#e.update()):(this.item=t,this.#e.add()):this.#n.error("Invalid form.")}onFileSelected(t){this.#t.onFileSelected(t)}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=P({type:o,selectors:[["app-project"]],viewQuery:function(e,s){if(e&1&&w(b,5),e&2){let m;E(m=y())&&(s.gridComponent=m.first)}},features:[F([v])],decls:2,vars:1,consts:[[1,"container","vh-100","d-flex","justify-content-center","align-items-center"],[1,"card","shadow",2,"width","100%","max-width","400px"],[1,"card-body"],[1,"card-title","text-center","mb-4"],[3,"ngSubmit","formGroup"],[1,"profile-pic-container","mb-3"],["alt","Profile Picture",1,"profile-pic",3,"src"],["for","fileUpload",1,"add-icon"],["type","file","id","fileUpload","hidden","",3,"change"],[1,"mb-3"],["for","name",1,"form-label"],["id","name","formControlName","name",1,"form-control"],[1,"text-danger"],["for","description",1,"form-label"],["id","description","formControlName","description",1,"form-control"],["id","route","formControlName","route",1,"form-control"],["for","navigationText",1,"form-label"],["id","navigationText","formControlName","navigationText",1,"form-control"],["for","isAdmin",1,"form-label"],["id","isAdmin","color","primary","formControlName","isAdmin",1,"form-control"],[1,"d-flex","justify-content-between"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"btn",3,"click"]],template:function(e,s){e&1&&p(0,$,40,9,"div",0)(1,ee,1,0,"app-grid"),e&2&&f(s.showForm?0:1)},dependencies:[q,D,V,A,G,R,O,B,b],styles:[".profile-pic-container[_ngcontent-%COMP%]{position:relative;width:150px;height:150px}.profile-pic[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;object-fit:cover;border:2px solid #ccc}.add-icon[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;background-color:#007bff;color:#fff;border-radius:50%;padding:8px;cursor:pointer;font-size:16px;border:2px solid white;transition:background-color .3s}.add-icon[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})};export{K as ProjectComponent};
