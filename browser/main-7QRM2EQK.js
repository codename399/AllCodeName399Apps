import{a as A}from"./chunk-MRSAWQKR.js";import{a as Ce}from"./chunk-4JPPIM7Y.js";import{a as Ie}from"./chunk-W7GPKKES.js";import{a as Ae,b as p}from"./chunk-MTLU5R6D.js";import{a as d}from"./chunk-JO3BUMT2.js";import{a as ye}from"./chunk-XHOV6WX6.js";import{a as R}from"./chunk-RT3T3EPV.js";import"./chunk-BYXBJQAS.js";import{a as f}from"./chunk-WCHE2QXK.js";import{a as u}from"./chunk-OQLYQHRI.js";import{a as s,b as w,c as Re}from"./chunk-RGF7OKZJ.js";import{A as T,C as N,G as te,H as oe,I as V,J as y,K as re,L as ie,M as ae,W as ne,Y as se,aa as pe,b as Z,c as _,d as W,e as $,ea as ce,fa as b,h as K,ia as me,ja as le,k as a,la as de,lb as M,m as r,ma as fe,n as X,na as ue,oa as ge,pa as he,r as Y,ra as ve,s as l,sa as S,u as J,ua as be,va as Se,w as v,z as ee}from"./chunk-GCSD6NER.js";var E=class{skip=0;limit=5;sortBy=d.updationDate;filters;ascending=!1;isDeleted=!1;fetchAll=!1};function je(){let e=r(f),t=new E;return t.limit=e.pageSize,t}var g=class e{#e=l(!1);get loading(){return this.#e()}set loading(t){this.#e.set(t)}show(){this.#e.set(!0)}hide(){this.#e.set(!1)}isLoading(){return this.#e()}static \u0275fac=function(o){return new(o||e)};static \u0275prov=a({token:e,factory:e.\u0275fac,providedIn:"root"})};var Pe=(e,t)=>{let o=r(p),i=r(g),m=r(u),h=o.token??"";if(i.show(),h){let z=Ae(h).exp*1e3;Date.now()>=z&&o.logout(),e=e.clone({setHeaders:{Authorization:`Bearer ${h}`}})}return t(e).pipe($(P=>{let z=P.error?.Message??P.message;return i.hide(),m.error(z),_(()=>P)}),K(()=>i.hide()))};var c=class e{#e=r(S);#t=r(p);canActivate(){let t=this.#t.isLoggedIn();return t||this.#e.navigate(["/login"]),t}static \u0275fac=function(o){return new(o||e)};static \u0275prov=a({token:e,factory:e.\u0275fac,providedIn:"root"})};var C=class e{#e=r(S);#t=r(p);canActivate(){let t=this.#t.isLoggedIn();return t&&this.#e.navigate(["/home"]),!t}static \u0275fac=function(o){return new(o||e)};static \u0275prov=a({token:e,factory:e.\u0275fac,providedIn:"root"})};var L=class e{#e=r(R);resolve(t,o){let i=t.paramMap.get("id");return i?this.#e.getById(i):null}static \u0275fac=function(o){return new(o||e)};static \u0275prov=a({token:e,factory:e.\u0275fac,providedIn:"root"})};var U=class e{#e=r(A);#t=r(p);resolve(t,o){return this.#e.getAllMapped(this.#t.userId??"")}static \u0275fac=function(o){return new(o||e)};static \u0275prov=a({token:e,factory:e.\u0275fac,providedIn:"root"})};var x=class e{#e=r(A);#t=r(s);resolve(t,o){return this.#e.getAll(this.#t)}static \u0275fac=function(o){return new(o||e)};static \u0275prov=a({token:e,factory:e.\u0275fac,providedIn:"root"})};var D=class e{#e=r(ye);#t=r(s);resolve(t,o){return this.#e.getAll(this.#t)}static \u0275fac=function(o){return new(o||e)};static \u0275prov=a({token:e,factory:e.\u0275fac,providedIn:"root"})};var F=class e{#e=r(R);#t=r(s);resolve(t,o){return this.#e.getAll(this.#t)}static \u0275fac=function(o){return new(o||e)};static \u0275prov=a({token:e,factory:e.\u0275fac,providedIn:"root"})};var G=class e{#e=r(R);#t=r(A);#o=r(s);resolve(t,o){let i=JSON.parse(JSON.stringify(this.#o)),m=JSON.parse(JSON.stringify(this.#o));return i.fetchAll=!0,m.fetchAll=!0,m.filters=[{key:d.isAdmin,value:"false",operator:"Equal"}],W(this.#e.getAll(i),this.#t.getAll(m))}static \u0275fac=function(o){return new(o||e)};static \u0275prov=a({token:e,factory:e.\u0275fac,providedIn:"root"})};var k=class e{#e=r(Ce);#t=r(s);resolve(t,o){return this.#e.getAll(this.#t)}static \u0275fac=function(o){return new(o||e)};static \u0275prov=a({token:e,factory:e.\u0275fac,providedIn:"root"})};var I=class e{#e=r(p);#t=r(S);canActivate(t,o){let i=this.#e.isLoggedIn(),m=t.data.projectName,h=this.#e.hasClaim(m,"False")||this.#e.hasClaim(d.roleClaim,d.admin);return!i&&!h&&this.#t.navigate(["/home"]),i||h}static \u0275fac=function(o){return new(o||e)};static \u0275prov=a({token:e,factory:e.\u0275fac,providedIn:"root"})};var O=class e{#e=r(Ie);#t=r(s);resolve(t,o){return this.#e.getAll(this.#t)}static \u0275fac=function(o){return new(o||e)};static \u0275prov=a({token:e,factory:e.\u0275fac,providedIn:"root"})};var Te=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"login",loadComponent:()=>import("./chunk-UCD3664Z.js").then(e=>e.LoginComponent),canActivate:[C]},{path:"home",loadComponent:()=>import("./chunk-ESZG3HPQ.js").then(e=>e.HomeComponent),canActivate:[c],children:[{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"change-password",loadComponent:()=>import("./chunk-OEAW3FVZ.js").then(e=>e.ChangePasswordComponent),canActivate:[c]},{path:"register/:id",loadComponent:()=>import("./chunk-IPENLRDY.js").then(e=>e.RegisterComponent),canActivate:[c],resolve:{users:L}},{path:"dashboard",loadComponent:()=>import("./chunk-2XBY3W4U.js").then(e=>e.DashboardComponent),canActivate:[c],resolve:{projects:U}},{path:"manage-roles",loadComponent:()=>import("./chunk-LJIAG72S.js").then(e=>e.RoleComponent),canActivate:[c],resolve:{pagedResponse:D}},{path:"manage-users",loadComponent:()=>import("./chunk-EYSK2OYE.js").then(e=>e.UserComponent),canActivate:[c],resolve:{pagedResponse:F}},{path:"manage-projects",loadComponent:()=>import("./chunk-TJ426TA6.js").then(e=>e.ProjectComponent),canActivate:[c],resolve:{pagedResponse:x}},{path:"map-user-projects",loadComponent:()=>import("./chunk-VRHYLL7S.js").then(e=>e.UserProjectMappingComponent),canActivate:[c],resolve:{usersandprojects:G}},{path:"game-stash",loadComponent:()=>import("./chunk-7A7AG5PJ.js").then(e=>e.GameStashComponent),canActivate:[I],data:{projectName:d.gameStash},resolve:{pagedResponse:k}},{path:"debt-manager",loadComponent:()=>import("./chunk-2YJBNBR3.js").then(e=>e.DebtManagerComponent),canActivate:[I],data:{projectName:d.debtManager},resolve:{pagedResponse:O}}]},{path:"register",loadComponent:()=>import("./chunk-IPENLRDY.js").then(e=>e.RegisterComponent),canActivate:[C]},{path:"**",redirectTo:"home",pathMatch:"full"}];var j=class e{#e;#t=r(fe);#o=r(w);#r=r(u);get value(){return this.#e}load(){let t=new ue(this.#t);return new Promise((o,i)=>{t.get(this.#o).toPromise().then(m=>{m?this.#e=m:this.#r.error("Configuration not found."),o()}).catch(()=>{i(this.#r.error("Could not show load config file."))})})}static \u0275fac=function(o){return new(o||e)};static \u0275prov=a({token:e,factory:e.\u0275fac,providedIn:"root"})};var B=class{#e=r(f);authenticationBaseURL=this.#e.authenticationBaseURL;baseURL=this.#e.baseURL;getAllUsers="/getAllUsers";getUserById="/getUserById";getByProject="/getByProject";addUsers="/addUsers";updateUser="/updateUser";deleteUser="/deleteUser";validateUser="/validateUser";changePassword="/changePassword";getAllRoles="/getAllRoles";getRoleById="/getRoleById";addRoles="/addRoles";updateRole="/updateRole";deleteRole="/deleteRole";getAllProjects="/getAllProjects";getAllMappedProjects="/getAllMappedProjects";getProjectById="/getProjectById";addProjects="/addProjects";updateProject="/updateProject";deleteProject="/deleteProject";getAllUserProjectMappings="/getAllUserProjectMappings";updateUserProjectMappings="/updateUserProjectMappings";getAllGames="/getAllGames";addGames="/addGames";updateGame="/updateGame";deleteGames="/deleteGames";getAllDebts="/getAllDebts";addDebts="/addDebts";updateDebt="/updateDebt";deleteDebts="/deleteDebts";getUrl=(t,o=!1)=>o?this.authenticationBaseURL+t:this.baseURL+t};var Ne={};var we={providers:[Y(),ce({eventCoalescing:!0}),be(Te),ge(he([Pe])),X(p),{provide:s,useFactory:je},{provide:w,useValue:"/assets/environments/config.json"},{provide:ee,useFactory:e=>()=>Z(null,null,function*(){yield e.load()}),deps:[j],multi:!0},{provide:f,useFactory:e=>me()?Ne:e.value,deps:[j]},{provide:Re,useClass:B}]};function Ee(e,t){e&1&&(re(0,"div",0),ae(1,"div",1),ie())}var q=class e{#e=r(g);#t=l(!1);get isLoading(){return this.#t()}constructor(){b(()=>{this.#t.set(this.#e.isLoading())})}showLoader(){this.#e.show()}hideLoader(){this.#e.hide()}static \u0275fac=function(o){return new(o||e)};static \u0275cmp=v({type:e,selectors:[["app-loader"]],decls:1,vars:1,consts:[[1,"overlay"],[1,"spinner"]],template:function(o,i){o&1&&T(0,Ee,2,0,"div",0),o&2&&N(i.isLoading?0:-1)},styles:[".overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;z-index:1000;display:flex;justify-content:center;align-items:center}.spinner[_ngcontent-%COMP%]{border:8px solid #f3f3f3;border-top:8px solid #3498db;border-radius:50%;width:60px;height:60px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})};var Le=(e,t,o,i)=>({"bg-primary":e,"bg-success":t,"bg-danger":o,"bg-warning":i}),H=class e{#e=r(u);#t=l("");#o=l("Primary");get message(){return this.#t()}get toastType(){return this.#o()}set message(t){this.#t.set(t)}set toastType(t){this.#o.set(t)}constructor(){b(()=>{this.message=this.#e.message,this.toastType=this.#e.toastType})}static \u0275fac=function(o){return new(o||e)};static \u0275cmp=v({type:e,selectors:[["app-toast"]],decls:6,vars:7,consts:[[1,"toast-container","position-fixed","top-0","end-0","p-3",2,"z-index","1200"],["role","alert","aria-live","assertive","aria-atomic","true","id","myToast",1,"toast","align-items-center","text-white","border-0",3,"ngClass"],[1,"d-flex"],[1,"toast-body"],["type","button","data-bs-dismiss","toast","aria-label","Close",1,"btn-close","btn-close-white","me-2","m-auto"]],template:function(o,i){o&1&&(oe(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),ne(4),V(),y(5,"button",4),V()()()),o&2&&(J(),te("ngClass",pe(2,Le,i.toastType=="Primary",i.toastType=="Success",i.toastType=="Danger",i.toastType=="Warning")),J(3),se(" ",i.message," "))},dependencies:[M,le],encapsulation:2})};function Ue(e,t){e&1&&y(0,"app-loader")}var Q=class e{title=l("AllCodeName399Apps");toastEl;#e=r(g);#t=l(!1);#o=r(u);#r=r(f);get isLoading(){return this.#t()}constructor(){b(()=>{this.#t.set(this.#e.isLoading()),this.#o.setToastElement(this.toastEl)})}ngAfterViewInit(){let t=document.getElementById("myToast");t&&(this.toastEl=new bootstrap.Toast(t,{delay:Number(this.#r.toast_delay)}))}static \u0275fac=function(o){return new(o||e)};static \u0275cmp=v({type:e,selectors:[["app-root"]],decls:3,vars:1,template:function(o,i){o&1&&(T(0,Ue,1,0,"app-loader"),y(1,"router-outlet")(2,"app-toast")),o&2&&N(i.isLoading?0:-1)},dependencies:[q,H,Se,ve,M],encapsulation:2})};de(Q,we).catch(e=>console.error(e));
