import{a as v}from"./chunk-WDOU4FCN.js";import{a as G}from"./chunk-N6SSOG74.js";import{a as w}from"./chunk-WCHE2QXK.js";import{a as O,b as q}from"./chunk-REQF3J2D.js";import{a as N}from"./chunk-OQLYQHRI.js";import{A as m,Ba as y,C as s,Ea as T,Fa as k,G as g,H as n,I as i,J as c,Ja as V,Q as b,R as f,W as r,X as u,Y as S,_ as E,a as _,fa as F,ga as I,ha as C,lb as D,m as p,t as h,ta as P,u as o,w as x,wa as M,xa as d,ya as U,za as R}from"./chunk-GCSD6NER.js";function B(t,l){if(t&1&&(n(0,"small",8),r(1),i()),t&2){let e=f();o(),u(e.getErrorMessage(e.form,"name"))}}function L(t,l){if(t&1&&(n(0,"small",8),r(1),i()),t&2){let e=f(2);o(),u(e.getErrorMessage(e.form,"username"))}}function $(t,l){if(t&1&&(n(0,"small",8),r(1),i()),t&2){let e=f(2);o(),u(e.getErrorMessage(e.form,"password"))}}function Z(t,l){if(t&1&&(n(0,"small",8),r(1),i()),t&2){let e=f(2);o(),u(e.getErrorMessage(e.form,"confirmPassword"))}}function H(t,l){if(t&1&&(n(0,"div",5)(1,"label",16),r(2,"Username:"),i(),c(3,"input",17),m(4,L,2,1,"small",8),i(),n(5,"div",5)(6,"label",18),r(7,"Password:"),i(),c(8,"input",19),m(9,$,2,1,"small",8),i(),n(10,"div",5)(11,"label",20),r(12,"Confirm Password:"),i(),c(13,"input",21),m(14,Z,2,1,"small",8),i()),t&2){let e=f();o(4),s(e.isInvalid(e.form,"username")?4:-1),o(5),s(e.isInvalid(e.form,"password")?9:-1),o(5),s(e.isInvalid(e.form,"confirmPassword")?14:-1)}}function J(t,l){if(t&1&&(n(0,"small",8),r(1),i()),t&2){let e=f();o(),u(e.getErrorMessage(e.form,"emailId"))}}function K(t,l){if(t&1&&(n(0,"small",8),r(1),i()),t&2){let e=f();o(),u(e.getErrorMessage(e.form,"contactNumber"))}}function Q(t,l){t&1&&(n(0,"u")(1,"a",22),r(2,"Already have an account? Login"),i()())}function W(t,l){t&1&&(n(0,"button",15),r(1," Back "),i())}var j=class t{#i=p(V);#o=p(N);#e=p(v);#t=p(w);user=C();back=C();onFormSubmit=I();form;id;roleId;get getErrorMessage(){return q}get isInvalid(){return O}get profilePictureUrl(){return this.#e.url}set profilePictureUrl(l){this.#e.url=l}constructor(){this.form=this.#i.group({name:["",d.required],username:["",d.required],password:["",[d.required,d.pattern(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*(),.?":{}|<>]).{8,}$/)]],confirmPassword:["",[d.required]],emailId:["",[d.required,d.email]],contactNumber:["",[d.required,d.pattern("^[0-9]{10}$")]],profilePicture:[this.#t.profilePictureUrl]},{validators:G}),F(()=>{this.form.patchValue({profilePicture:this.profilePictureUrl})})}ngOnInit(){this.user()&&(this.form.patchValue(this.user()??{}),this.id=this.user()?.id??null,this.roleId=this.user()?.roleId??null,this.user()?.profilePicture&&(this.profilePictureUrl=this.user()?.profilePicture??this.#t.profilePictureUrl),this.user()&&(this.form.controls.username.clearValidators(),this.form.controls.password.clearValidators(),this.form.controls.confirmPassword.clearValidators()))}onSubmit(){this.form.valid?this.onFormSubmit.emit(_({id:this.id,roleId:this.roleId},this.form.value)):this.#o.error("Form is invalid")}onFileSelected(l){this.#e.onFileSelected(l)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=x({type:t,selectors:[["app-registration-form"]],inputs:{user:[1,"user"],back:[1,"back"]},outputs:{onFormSubmit:"onFormSubmit"},features:[E([v])],decls:26,vars:10,consts:[[3,"ngSubmit","formGroup"],[1,"profile-pic-container","mb-3"],["alt","Profile Picture",1,"profile-pic",3,"src"],["for","fileUpload",1,"add-icon"],["type","file","id","fileUpload","hidden","",3,"change"],[1,"mb-3"],["for","name",1,"form-label"],["id","name","formControlName","name",1,"form-control"],[1,"text-danger"],["for","emailId",1,"form-label"],["id","emailId","formControlName","emailId",1,"form-control"],["for","contactNumber",1,"form-label"],["id","contactNumber","formControlName","contactNumber",1,"form-control"],[1,"d-flex","justify-content-between"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"btn"],["for","username",1,"form-label"],["id","username","formControlName","username",1,"form-control"],["for","password",1,"form-label"],["id","password","type","password","formControlName","password",1,"form-control"],["for","confirmPassword",1,"form-label"],["id","confirmPassword","type","password","formControlName","confirmPassword",1,"form-control"],["href","#","routerLink","/login"]],template:function(e,a){e&1&&(n(0,"form",0),b("ngSubmit",function(){return a.onSubmit()}),n(1,"div",1),c(2,"img",2)(3,"label",3),n(4,"input",4),b("change",function(A){return a.onFileSelected(A)}),i()(),n(5,"div",5)(6,"label",6),r(7,"Name:"),i(),c(8,"input",7),m(9,B,2,1,"small",8),i(),m(10,H,15,3),n(11,"div",5)(12,"label",9),r(13,"Email ID:"),i(),c(14,"input",10),m(15,J,2,1,"small",8),i(),n(16,"div",5)(17,"label",11),r(18,"Contact Number:"),i(),c(19,"input",12),m(20,K,2,1,"small",8),i(),n(21,"div",13)(22,"button",14),r(23),i(),m(24,Q,3,0,"u"),m(25,W,2,0,"button",15),i()()),e&2&&(g("formGroup",a.form),o(2),g("src",a.profilePictureUrl,h),o(7),s(a.isInvalid(a.form,"name")?9:-1),o(),s(a.user()?-1:10),o(5),s(a.isInvalid(a.form,"emailId")?15:-1),o(5),s(a.isInvalid(a.form,"contactNumber")?20:-1),o(2),g("disabled",a.form.invalid),o(),S(" ",a.user()?"Update":"Register"," "),o(),s(a.user()?-1:24),o(),s(a.back()?25:-1))},dependencies:[D,y,M,U,R,T,k,P],styles:[".profile-pic-container[_ngcontent-%COMP%]{position:relative;width:150px;height:150px}.profile-pic[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;object-fit:cover;border:2px solid #ccc}.add-icon[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;background-color:#007bff;color:#fff;border-radius:50%;padding:8px;cursor:pointer;font-size:16px;border:2px solid white;transition:background-color .3s}.add-icon[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})};export{j as a};
