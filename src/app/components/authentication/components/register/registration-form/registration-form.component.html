<form [formGroup]="form" (ngSubmit)="onSubmit()">
  <div class="profile-pic-container mb-3">
    <img [src]="profilePictureUrl" class="profile-pic" alt="Profile Picture" />
    <label for="fileUpload" class="add-icon"> </label>
    <input
      type="file"
      id="fileUpload"
      hidden
      (change)="onFileSelected($event)"
    />
  </div>
  <div class="mb-3">
    <label for="name" class="form-label">Name:</label>
    <input id="name" class="form-control" formControlName="name" />
    @if(isInvalid(form,"name")){
    <small class="text-danger">{{ getErrorMessage(form, "name") }}</small>
    }
  </div>
  @if(!user()){
  <div class="mb-3">
    <label for="username" class="form-label">Username:</label>
    <input id="username" class="form-control" formControlName="username" />
    @if(isInvalid(form,"username")){
    <small class="text-danger">{{ getErrorMessage(form, "username") }}</small>
    }
  </div>
  <div class="mb-3">
    <label for="password" class="form-label">Password:</label>
    <input
      id="password"
      type="password"
      class="form-control"
      formControlName="password"
    />
    @if(isInvalid(form,"password")){
    <small class="text-danger">{{ getErrorMessage(form, "password") }}</small>
    }
  </div>
  <div class="mb-3">
    <label for="confirmPassword" class="form-label">Confirm Password:</label>
    <input
      id="confirmPassword"
      type="password"
      class="form-control"
      formControlName="confirmPassword"
    />
    @if(isInvalid(form,"confirmPassword")){
    <small class="text-danger">{{
      getErrorMessage(form, "confirmPassword")
    }}</small>
    }
  </div>
  }
  <div class="mb-3">
    <label for="emailId" class="form-label">Email ID:</label>
    <input id="emailId" class="form-control" formControlName="emailId" />
    @if(isInvalid(form,"emailId")){
    <small class="text-danger">{{ getErrorMessage(form, "emailId") }}</small>
    }
  </div>
  <div class="mb-3">
    <label for="contactNumber" class="form-label">Contact Number:</label>
    <input
      id="contactNumber"
      class="form-control"
      formControlName="contactNumber"
    />
    @if(isInvalid(form,"contactNumber")){
    <small class="text-danger">{{
      getErrorMessage(form, "contactNumber")
    }}</small>
    }
  </div>
  <!-- <div class="mb-3">
          <label for="role" class="form-label">Select a role</label>
          <select id="role" class="form-select" formControlName="roleId">
            <option value="">Choose...</option>
            <option *ngFor="let role of roles" [value]="role.id">
              {{ role.name }}
            </option>
          </select>
          @if(isInvalid(form,"roleId")){
          <small class="text-danger">{{ getErrorMessage(form, "roleId") }}</small>
          }
        </div> -->

  <div class="d-flex justify-content-between">
    <button type="submit" class="btn btn-primary" [disabled]="form.invalid">
      {{ user() ? "Update" : "Register" }}
    </button>
    @if(!user()){
    <u><a href="#" routerLink="/login">Already have an account? Login</a></u>
    }
  </div>
</form>
